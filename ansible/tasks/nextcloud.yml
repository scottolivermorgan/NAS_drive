- name: Pull Nextcloud Docker image
  # Use the community.docker.docker_image module to pull the latest Jellyfin Docker image
  community.docker.docker_image:
    name: nextcloud:latest  # Specify the name of the Docker image
    source: pull  # Specify to pull the image from the Docker Hub

- name: Run Nextcloud Docker container
  # Use the community.docker.docker_container module to run the Jellyfin Docker container
  community.docker.docker_container:
    name: nextcloud  # Specify the name of the Docker container
    image: nextcloud:latest  # Specify the image for the container
    state: started  # Specify to start the container
    restart_policy: always  # Specify to always restart the container if it stops
    published_ports:
      - "80:80"  # Specify the port mapping from host to container (host_port:container_port)
                      # Adjust port as needed, for example, if port 8096 is already in use
    timeout: 240  # Specify the timeout period for starting the container (in seconds)
#sudo docker run -d -p 80:80 --name nextcloud --restart unless-stopped \
#-v /mnt/external/nextcloud:/var/www/html \
#-v /mnt/external/apps:/var/www/html/custom_apps \
#-v /mnt/external/config:/var/www/html/config \
#-v /mnt/external/data:/var/www/html/data \
#-v /mnt/external/theme:/var/www/html/themes nextcloud 